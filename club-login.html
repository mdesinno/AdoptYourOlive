<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accesso Club - Adopt Your Olive</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Stili specifici per la pagina di login */
        .login-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 80px); /* Altezza meno la navbar */
            text-align: center;
            padding: 20px;
        }
        .login-box {
            background: var(--white);
            padding: 40px;
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-medium);
            max-width: 400px;
            width: 100%;
        }
        .login-box h1 {
            margin-bottom: 15px;
        }
        .login-box p {
            margin-bottom: 25px;
            color: var(--light-text);
        }
        .login-form input {
            width: 100%;
            padding: 12px 40px 12px 12px; /* Aggiunto padding a destra per l'icona */
            margin-bottom: 20px;
            border: 1px solid var(--medium-grey);
            border-radius: var(--border-radius-sm);
            text-align: center;
            font-size: 1.2rem;
        }
        .login-form .btn {
            width: 100%;
        }
        .error-message {
            color: var(--accent-red);
            margin-top: 15px;
            font-weight: 600;
            display: none; /* Nascosto di default */
        }
        
        /* ===== STILI NUOVI PER L'ICONA PASSWORD ===== */
        .password-wrapper {
            position: relative;
            width: 100%;
        }
        .toggle-password-icon {
            position: absolute;
            top: 50%;
            right: 15px;
            transform: translateY(-50%);
            color: var(--light-text);
            cursor: pointer;
        }
        /* ============================================ */
    </style>
</head>
<body>
    <nav class="main-nav">
        </nav>

    <main class="login-container">
        <div class="login-box">
            <h1 data-i18n-key="clubLoginTitle">Accesso Riservato</h1>
            <p data-i18n-key="clubLoginSubtitle">Inserisci la parola d'ordine che hai trovato nella tua email di conferma ordine.</p>
            <form id="club-login-form" class="login-form">
                
                <div class="password-wrapper">
                    <input type="password" id="club-password" placeholder="Parola d'ordine" data-i18n-placeholder-key="clubLoginPlaceholder" required>
                    <i class="fas fa-eye toggle-password-icon" id="toggle-password"></i>
                </div>
                <button type="submit" class="btn btn-primary" data-i18n-key="clubLoginButton">Entra nel Club</button>
            </form>
            <p id="error-message" class="error-message" data-i18n-key="clubLoginError">Parola d'ordine errata. Riprova.</p>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- PARTE 1: GESTIONE INVIO FORM E REDIRECT ---
            const loginForm = document.getElementById('club-login-form');
            if (loginForm) {
                loginForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const correctPassword = 'PERANZANA2025'; 
                    const clubToken = 'axr-p8a-tq2-n9k';

                    const enteredPassword = document.getElementById('club-password').value;
                    const errorMessage = document.getElementById('error-message');

                    if (enteredPassword === correctPassword) {
                        // Se la password è corretta, reindirizza
                        window.location.href = `club.html?token=${clubToken}`;
                    } else {
                        // Altrimenti, mostra l'errore
                        errorMessage.style.display = 'block';
                    }
                });
            }

            // --- PARTE 2: GESTIONE VISIBILITÀ PASSWORD ---
            const togglePassword = document.getElementById('toggle-password');
            const passwordInput = document.getElementById('club-password');

            if (togglePassword && passwordInput) {
                togglePassword.addEventListener('click', function () {
                    // Controlla il tipo di input attuale
                    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                    passwordInput.setAttribute('type', type);
                    
                    // Cambia l'icona (occhio / occhio barrato)
                    this.classList.toggle('fa-eye');
                    this.classList.toggle('fa-eye-slash');
                });
            }
        });
    </script>
    <script src="script.js" defer></script> ```

### Cosa ho corretto

Ho semplicemente reinserito la logica di controllo della password e di reindirizzamento che avevo accidentalmente rimosso, unendola a quella per l'icona "occhio". Ho anche corretto un piccolo bug nell'icona stessa (ora alterna `fa-eye` e `fa-eye-slash` correttamente).

Con questo script completo, ora funzioneranno sia l'invio del modulo che la funzione per mostrare/nascondere la password.
    <script src="script.js" defer></script> </body>
</html>